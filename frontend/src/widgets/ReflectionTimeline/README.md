# ReflectionTimeline Widget

Компонент для отображения таймлайна рефлексии мета-когнитивного AI агента. Показывает историю процессов саморефлексии с возможностью фильтрации и детализации.

## Особенности

- Визуализация истории рефлексии агента в виде таймлайна
- Фильтрация по типам инсайтов (инсайт, анализ, корректировка, обучение и др.)
- Фильтрация по уровню уверенности
- Фильтрация по временному диапазону
- Детализация каждого события рефлексии в модальном окне
- Интеграция с API рефлексии для получения актуальных данных
- Поддержка WebSocket для получения данных в реальном времени
- Адаптивный дизайн для разных размеров экранов

## Использование

```tsx
import ReflectionTimeline from './ReflectionTimeline';

const App = () => {
  return (
    <div className="container mx-auto p-4">
      <ReflectionTimeline className="w-full" />
    </div>
  );
};
```

### Свойства

| Свойство | Тип | Описание |
|----------|-----|----------|
| `reflections` | `ReflectionEvent[]` | Массив данных рефлексии для отображения (опционально, используется при отсутствии данных API) |
| `className` | `string` | Дополнительный CSS класс для стилизации компонента |

### Типы данных

Компонент использует типы данных из `../../shared/types/reflection`:

- `ReflectionEvent` - основной тип для события рефлексии
- `ReflectionFilter` - тип для фильтров таймлайна

## Структура компонента

1. **Заголовок** - название таймлайна и элементы управления фильтрацией
2. **Панель фильтров** - фильтры по типам инсайтов и уровню уверенности
3. **Основная область таймлайна** - визуализация событий рефлексии
4. **Модальное окно детализации** - подробная информация о выбранном событии

## Архитектурные решения

- Использует API для получения данных рефлексии
- Поддерживает резервный вариант с mock-данными при недоступности API
- Реализует фильтрацию на стороне клиента для быстрого отклика
- Использует типизацию по стандартам проекта
- Следует принципам FSD (Feature-Sliced Design)

## Тестирование

Компонент покрыт unit-тестами, проверяющими:
- Корректность отображения данных
- Работу фильтров
- Открытие и закрытие модального окна
- Обработку состояния загрузки

## Связь с другими компонентами

- Использует `apiClient` для получения данных из API
- Взаимодействует с `RealtimeDataProvider` для получения данных в реальном времени
- Связан с системой типов `reflection` для обеспечения типизации

## Зависимости

- `React` - основной фреймворк
- `Tailwind CSS` - для стилизации
- `apiClient` - для взаимодействия с API
- Типы данных из `shared/types/reflection`